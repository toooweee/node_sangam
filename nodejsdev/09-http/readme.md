# Протоков HTTP

Когда вы вводите URL и нажимаете Enter, браузер первым делом понимает, настоящий ли это URL. Он строит полный URL. Если вы просто ввели домен, например `flavioscopes.com`, браузер добавит к нему `http://`, по умолчанию используя протокол `HTTP`

После этого идет `фаза поиска DNS`, для получения IP-адреса сервера. Доменное имя - это удобное сокращение для людей, но компьютеры могут узнать точное местоположение сервера по IP-адресу, который представляет собой набор цифр типа `222.324.3.1` (IPv4). Сперва проверяется локальный кэш, чтобы узнать, не был ли домен недавно разрешен. Если там ничего не найдено, браузер использует DNS-резольвер, используя системный вызов POSIX `gethostbyname` для получения информации о хосте.

DNS-сервер может иметь IP-адрес домена в кэше. Если нет, он обратится к корневому DNS-серверу. Это система (состоящая из 13 реальных серверов, распределенных по всей планете), которая управляет всем интернетом.

`gethostbyname` сначала ищет информацию в локальном файле hosts, который в macOS или Linux находится в /etc/hosts, чтобы проверить, предоставляет ли система информацию локально.

Если это не дает никакой информации о домене, система делает запрос на DNS-сервер.

Адрес DNS-сервера хранится в настройках системы. Вот 2 популярных DNS-сервера:
- `8.8.8.8`: публичный DNS-сервер Google
- `1.1.1.1`: DNS-сервер cloudFare

Большинство же людей использует DNS-сервер, предоставляемый их интернет-провайдером

Браузер выполняет DNS-запрос, используя протокол `UDP`

`TCP` и `UPD` - два основополагающих протокола, компьютерных сетей. Они находятся на одном концептуальном уровне, но TCP ориентирован на соединение, а UDP - это протокол без соединения, более легкий, используемый для передачи сообщений с небольшими накладными расходами. 

`DNS-сервер` может иметь IP-адрес домена в кэше. Если нет, он обратится к корневому DNS-серверу. Это система (состоящая из 13 реальных серверов, распределенных по всей планете), которая управляет всем интернетом.

DNS-сервер не знает адреса всех и каждого доменного имени на планете.

Он знает, где находятся верхнеуровневые DNS-резолверы.

Домен верхнего уровня - это расширение домена: .com, .it, .pizza и так далее.

#### Отправка запроса¶
Запрос представляет собой обычный текстовый документ, структурированный определенным образом, определяемым протоколом связи.

Он состоит из 3 частей:
- строка запроса
- заголовок запроса
- тело запроса

**_Строка запроса содержит, в одной строке:**_
- метод HTTP
- местоположение ресурса
- версия протокола

```http request
GET / HTTP/1.1
```

